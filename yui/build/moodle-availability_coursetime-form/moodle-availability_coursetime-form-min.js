YUI.add("moodle-availability_coursetime-form",function(e,t){M.availability_coursetime=M.availability_coursetime||{},M.availability_coursetime.form=e.Object(M.core_availability.plugin),M.availability_coursetime.form.courses=null,M.availability_coursetime.form.initInner=function(e){this.courses=e},M.availability_coursetime.form.getNode=function(t){var n=M.str.availability_coursetime,r='<span class="availability-group">';r+='<label><span class="accesshide"></span> '+n.conditiontitle+' <input name="timespent" type="text" style="width: 10em" title="'+n.conditiontitle+'"/></label>',r+="<label> "+n.incourse+" "+'<select name="courseid">'+'<option value="choose">'+M.str.moodle.choosedots+"</option>";var i;for(var s=0;s<this.courses.length;s++)i=this.courses[s],r+='<option value="c_'+i.field+'">'+i.display+"</option>";r+="</select></label>",r+="</span>";var o=e.Node.create("<span>"+r+"</span>");t.c!==undefined&&o.one("select[name=courseid] > option[value=c_"+t.c+"]")&&o.one("select[name=courseid]").set("value","c_"+t.c),t.t!==undefined&&o.one("input[name=timespent]").set("value",t.t);if(!M.availability_coursetime.form.addedEvents){M.availability_coursetime.form.addedEvents=!0;var u=function(e){var t=e.ancestor("span.availability_coursetime");M.core_availability.form.update()},a=e.one("#fitem_id_availabilityconditionsjson");a.delegate("change",function(){u(this)},".availability_coursetime select"),a.delegate("change",function(){u(this)},".availability_coursetime input[name=timespent]")}return o},M.availability_coursetime.form.fillValue=function(e,t){var n=t.one("select[name=courseid]").get("value");n.substr(0,2)==="c_"&&(e.c=n.substr(2));var r=t.one("input[name=timespent]");e.t=r.get("value")},M.availability_coursetime.form.fillErrors=function(e,t){var n={};this.fillValue(n,t),n.t===undefined&&e.push("availability_coursetime:error_nulltimespent"),n.c===undefined&&e.push("availability_coursetime:error_nocourse")}},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]});
